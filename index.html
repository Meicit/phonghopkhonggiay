<script>
  // Lấy URL gốc của trang hiện tại (vd: https://tennguoidung.github.io/meetingpdf/)
  const base = window.location.origin + window.location.pathname.replace(/index\.html$/, '');
  const dataUrl = base + 'meetings.json';

  fetch(dataUrl)
    .then(response => {
      if (!response.ok) throw new Error("Không thể tải file JSON");
      return response.json();
    })
    .then(data => {
      const list = document.getElementById('list');
      data.forEach(m => {
        const item = document.createElement('div');
        item.className = 'meeting';
        item.innerHTML = `
          <a href="meeting.html?file=${encodeURIComponent(m.pdf)}">${m.title}</a><br>
          <small>Ngày họp: ${m.date}</small>
        `;
        list.appendChild(item);
      });
    })
    .catch(error => {
      document.getElementById('list').innerHTML = '<p style="color:red;text-align:center;">⚠️ Không tải được danh sách cuộc họp.</p>';
      console.error(error);
    });
</script>
